<base:UserControlBase
    x:Class="NarakaBladepoint.Modules.Social.UI.Email.Views.EmailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:attach="clr-namespace:NarakaBladepoint.Framework.UI.AttachedProperties;assembly=NarakaBladepoint.Framework"
    xmlns:base="clr-namespace:NarakaBladepoint.Framework.Core.Bases;assembly=NarakaBladepoint.Framework"
    xmlns:controls="clr-namespace:NarakaBladepoint.Controls;assembly=NarakaBladepoint.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="clr-namespace:NarakaBladepoint.Modules.Wealth.UI.Main.ViewModels"
    xmlns:viewmodels1="clr-namespace:NarakaBladepoint.Modules.Social.UI.Email.ViewModels"
    xmlns:wealth="clr-namespace:NarakaBladepoint.Modules.Wealth.UI.Main.Views"
    attach:EscKeyAttachedProperty.Command="{Binding ReturnCommand}"
    d:DataContext="{d:DesignInstance Type=viewmodels1:EmailPageViewModel}"
    d:DesignHeight="720"
    d:DesignWidth="1080"
    x:ClassModifier="internal"
    mc:Ignorable="d">
    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="pack://application:,,,/NarakaBladepoint.Resources;component/Image/background2.png" Stretch="UniformToFill" />
        </Grid.Background>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="0.1*" />
            </Grid.RowDefinitions>
            <wealth:WealthPage
                Grid.Row="0"
                Margin="0,0,100,0"
                HorizontalAlignment="Right"
                VerticalAlignment="Top" />
            <Grid Grid.Row="0" Margin="50,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.2*" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    FontSize="30"
                    Foreground="White"
                    Text="邮件" />
            </Grid>
            <TabControl
                Grid.Row="0"
                Background="Transparent"
                BorderThickness="0">
                <TabControl.Resources>
                    <Style TargetType="{x:Type TabPanel}">
                        <Setter Property="HorizontalAlignment" Value="Center" />
                    </Style>
                </TabControl.Resources>
                <TabItem
                    VerticalAlignment="Center"
                    d:IsSelected="True"
                    Background="Transparent"
                    Header="系统邮件"
                    Style="{StaticResource CommonFunctionTabItem}">
                    <Grid Margin="50">
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition Height="0.1*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.5*" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>

                        <TabControl
                            Background="Transparent"
                            BorderThickness="0"
                            Style="{StaticResource AverageTabControlStyle}">
                            <controls:IconTabItem
                                Header="全部"
                                Icon="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/1.png"
                                IconWidth="20">
                                <Grid>
                                    <TextBlock
                                        Margin="0,-20,10,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Top"
                                        Foreground="White">
                                        <Run d:Text="3" Text="{Binding EmailDatas.Count, Mode=OneWay}" />
                                        <Run Text="/" />
                                        <Run d:Text="150" Text="150" />
                                    </TextBlock>
                                    <ListBox
                                        Width="{Binding RelativeSource={RelativeSource AncestorType=TabControl, Mode=FindAncestor, AncestorLevel=1}, Path=ActualWidth}"
                                        HorizontalContentAlignment="Stretch"
                                        d:ItemsSource="{d:SampleData ItemCount=100}"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        ItemsSource="{Binding EmailDatas, Mode=OneWay}"
                                        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                        ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                        SelectedItem="{Binding SelectedEmailData}">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <controls:HighlightBorder Background="#1A000000">
                                                    <Grid Height="40">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="40" />
                                                            <ColumnDefinition />
                                                        </Grid.ColumnDefinitions>
                                                        <Image Width="25" Source="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/Icon.png" />
                                                        <Grid Grid.Column="1">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition />
                                                                <ColumnDefinition Width="60" />
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock
                                                                Grid.Column="0"
                                                                VerticalAlignment="Center"
                                                                d:Text="手机绑定奖励"
                                                                Foreground="White"
                                                                Text="{Binding Title}"
                                                                TextWrapping="Wrap" />
                                                            <TextBlock
                                                                Grid.Column="1"
                                                                Margin="5,0"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                Foreground="White">
                                                                <Run Text="剩余" />
                                                                <Run d:Text="12" Text="{Binding RemainingDays, Mode=OneWay}" />
                                                                <Run Text="天" />
                                                            </TextBlock>
                                                        </Grid>
                                                    </Grid>
                                                </controls:HighlightBorder>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </Grid>
                            </controls:IconTabItem>
                            <controls:IconTabItem
                                Header="通知"
                                Icon="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/2.png"
                                IconWidth="20" />
                            <controls:IconTabItem
                                Header="问卷"
                                Icon="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/3.png"
                                IconWidth="20" />
                            <controls:IconTabItem
                                Header="推广"
                                Icon="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/4.png"
                                IconWidth="20" />
                            <controls:IconTabItem
                                Header="活动"
                                Icon="pack://application:,,,/NarakaBladepoint.Resources;component/Image/Email/5.png"
                                IconWidth="20" />
                            <controls:IconTabItem Header="" Visibility="Hidden" />
                        </TabControl>
                        <UniformGrid Grid.Row="1" Columns="2">
                            <Button
                                Name="button"
                                Height="30"
                                Margin="0,0,5,0"
                                Content="删除已读"
                                Foreground="White"
                                Style="{StaticResource CleanButtonStyle}" />
                            <Button
                                Height="{Binding ElementName=button, Path=ActualHeight}"
                                Margin="5,0,0,0"
                                Content="领取全部"
                                Foreground="White"
                                Style="{StaticResource CleanButtonStyle}" />
                        </UniformGrid>
                        <Grid Grid.Column="1" Margin="30,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="0.15*" />
                                <RowDefinition />
                                <RowDefinition Height="0.25*" />
                            </Grid.RowDefinitions>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="130" />
                                </Grid.ColumnDefinitions>
                            </Grid>
                            <TextBlock
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                d:Text="手机绑定奖励"
                                FontSize="15"
                                Foreground="#EAB181"
                                Text="{Binding SelectedEmailData.Title, Mode=OneWay}" />
                            <TextBlock
                                Grid.Column="1"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                d:Text="2026-01-01 13:34"
                                FontSize="15"
                                Text="{Binding SelectedEmailData.DateTime, Mode=OneWay, StringFormat={}{0:yyyy-MM-dd HH:mm}}" />
                            <TextBlock
                                Grid.Row="1"
                                Margin="0,10,0,0"
                                d:Text="亲爱的玩家...."
                                Foreground="White"
                                Text="{Binding SelectedEmailData.Content, Mode=OneWay}"
                                TextWrapping="Wrap" />
                            <Grid Grid.Row="2" />
                        </Grid>
                        <Button
                            Grid.Row="1"
                            Grid.Column="1"
                            Width="{Binding ElementName=button, Path=ActualWidth}"
                            Height="{Binding ElementName=button, Path=ActualHeight}"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Right"
                            Content="删除"
                            Foreground="White"
                            Style="{StaticResource CleanButtonStyle}" />
                    </Grid>
                </TabItem>
                <TabItem
                    VerticalAlignment="Center"
                    d:IsSelected="True"
                    Background="Transparent"
                    Header="礼物中心"
                    Style="{StaticResource CommonFunctionTabItem}" />
                <TabItem
                    VerticalAlignment="Center"
                    d:IsSelected="True"
                    Background="Transparent"
                    Header="订单中心"
                    Style="{StaticResource CommonFunctionTabItem}" />
                <TabItem
                    Width="550"
                    VerticalAlignment="Center"
                    Background="Transparent"
                    Visibility="Hidden" />
            </TabControl>
        </Grid>
        <controls:EscBackControl
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Panel.ZIndex="10"
            Command="{Binding ReturnCommand}" />
    </Grid>
</base:UserControlBase>